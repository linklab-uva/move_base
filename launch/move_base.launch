<?xml version='1.0'?>

<launch>

  <!-- load VESC odometry parameters -->
  <arg         name           = 'vesc_config'
               default        = '$(find fleet_move_base)/config/vesc_config.yaml'/>
  <rosparam    file           = '$(arg vesc_config)'
               command        = 'load'/>

  <!-- launch VESC node driver -->
  <node        name           = 'vesc_driver'
               pkg            = 'vesc_driver'
               type           = 'vesc_driver_node'>
  <param       name           = 'port'
               value          = '/dev/ttyACM0'/> </node>

  <!-- launch VESC odometry calculator -->
  <node        name           = 'vesc_to_odom'
               pkg            = 'vesc_ackermann'
               type           = 'vesc_to_odom_node'/>

  <!-- joy_node using F310/F710 -->
  <node        name           = 'joy_node'
               pkg            = 'joy'
               type           = 'joy_node'>
  <param       name           = 'autorepeat_rate'
               value          = '20.0'/> </node>

  <!-- move_base node for the class fleet design -->
  <node        name           = 'move_base'
               pkg            = 'fleet_move_base'
               type           = 'move_base.py'/>

</launch>
